(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const y of c.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&i(y)}).observe(document,{childList:!0,subtree:!0});function s(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(n){if(n.ep)return;n.ep=!0;const c=s(n);fetch(n.href,c)}})();const b="modulepreload",P=function(t){return"/"+t},x={},$=function(e,s,i){let n=Promise.resolve();if(s&&s.length>0){let d=function(a){return Promise.all(a.map(o=>Promise.resolve(o).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};var y=d;document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=u?.nonce||u?.getAttribute("nonce");n=d(s.map(a=>{if(a=P(a),a in x)return;x[a]=!0;const o=a.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${l}`))return;const r=document.createElement("link");if(r.rel=o?"stylesheet":b,o||(r.as="script"),r.crossOrigin="",r.href=a,f&&r.setAttribute("nonce",f),document.head.appendChild(r),o)return new Promise((w,g)=>{r.addEventListener("load",w),r.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${a}`)))})}))}function c(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return n.then(u=>{for(const f of u||[])f.status==="rejected"&&c(f.reason);return e().catch(c)})};let p=null,h={};async function j(t="site-assets.json",e){let s="site-assets.json",i=e;typeof t=="function"?i=t:t&&(s=t);try{return p=await(await fetch(s)).json(),await v(),await S(i),{siteAssets:p,contentData:h}}catch(n){throw console.error("Error loading site assets:",n),n}}async function v(){if(!(!p||!p.assets))for(const t of p.assets){if(t.type==="directory"){t.contains&&t.contains.type==="combo"?h[t.path]=await O(t):t.contains?h[t.path]=await A(t):h[t.path]=t.path;continue}if(t.type==="image"){h[t.path]=t.path;continue}try{const e=await fetch(t.path);if(!e.ok)continue;if(t.type==="json"||t.path.endsWith(".json"))h[t.path]=await e.json();else if(t.type==="text"&&t.path.endsWith(".md")){const s=await e.text();h[t.path]=s}}catch(e){console.warn(`Failed to load ${t.path}:`,e)}}}async function O(t){const e={},s=t.path,i={};t.contains.parts.forEach(o=>{o.allowedExtensions.forEach(l=>{i[l]=o.assetType})});const n=await fetch(s);if(!n.ok)return console.warn(`Could not access directory: ${s}`),e;const c=await n.text(),f=new DOMParser().parseFromString(c,"text/html").querySelectorAll("a"),d=[];f.forEach(o=>{const l=o.getAttribute("href");if(l&&!l.startsWith("..")&&!l.endsWith("/")){const r=l.split("/").pop(),w=r.substring(r.lastIndexOf("."));i[w]&&d.push(r)}});const a={};d.forEach(o=>{const l=o.substring(o.lastIndexOf(".")),r=o.substring(0,o.lastIndexOf("."));a[r]||(a[r]={}),a[r][l]=o});for(const[o,l]of Object.entries(a)){e[o]={};for(const[r,w]of Object.entries(l)){const g=i[r],E=`${s}/${w}`;try{if(g==="image")e[o][r]=E;else if(g==="json"){const m=await fetch(E);m.ok&&(e[o][r]=await m.json())}else if(g==="text"){const m=await fetch(E);m.ok&&(e[o][r]=await m.text())}}catch(m){console.warn(`Failed to load ${E}:`,m)}}}return e}async function A(t){const e=[],s=t.path;try{const i=await fetch(s);if(!i.ok)return e;const n=await i.text();new DOMParser().parseFromString(n,"text/html").querySelectorAll("a").forEach(f=>{const d=f.getAttribute("href");if(d&&!d.startsWith("..")&&!d.endsWith("/")){const a=d.split("/").pop(),o=a.substring(a.lastIndexOf("."));t.contains.allowedExtensions.includes(o)&&e.push(`${s}/${a}`)}})}catch(i){console.warn(`Failed to load directory ${s}:`,i)}return e}async function S(t){if(!p||!p.assets){t&&t();return}for(const e of p.assets)if(e.handler)try{const s=e.handler.endsWith(".js")?e.handler:`${e.handler}.js`,i=await $(()=>import(`./${s}`),[]);if(typeof i.handle=="function"){const n=h[e.path];i.handle(n,e.path)}else console.warn(`Handler ${e.handler} does not export a handle function`)}catch(s){console.error(`Failed to load handler ${e.handler}:`,s)}t&&t()}document.addEventListener("DOMContentLoaded",async function(){try{await j(()=>{})}catch(t){console.error("Error initializing site:",t)}});
